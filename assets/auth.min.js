!function a(s,i,u){function c(t,e){if(!i[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[t]={exports:{}};s[t][0].call(o.exports,function(e){return c(s[t][1][e]||e)},o,o.exports,a,s,i,u)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("#niloy-show-auth-form"),r=document.querySelector("#niloy-auth-container"),e=document.querySelector("#niloy-auth-close"),a=document.querySelector("#niloy-auth-form"),s=a.querySelector('[data-message="status"]');function i(){s.innerHTML="",s.classList.remove("success","error"),a.querySelector('[name="submit"]').value="Login",a.querySelector('[name="submit"]').disabled=!1}t.addEventListener("click",function(e){r.classList.add("show"),t.parentElement.classList.add("hide")}),e.addEventListener("click",function(e){r.classList.remove("show"),t.parentElement.classList.remove("hide")}),a.addEventListener("submit",function(e){e.preventDefault(),i();var t=a.querySelector('[name="username"]').value,r=a.querySelector('[name="password"]').value;a.querySelector('[name="niloy-auth"]').value;if(!t||!r)return s.innerHTML="Missing data",void s.classList.add("error");var n=a.dataset.url,o=new URLSearchParams(new FormData(a));a.querySelector('[name="submit"]').value="Login in...",a.querySelector('[name="submit"]').disabled=!0,fetch(n,{method:"POST",body:o}).then(function(e){return e.json()}).catch(function(e){i()}).then(function(e){if(i(),0===e||!e.status)return s.innerHTML=e.message,void s.classList.add("error");s.innerHTML=e.message,s.classList.add("success"),a.reset(),window.location.reload()})})})},{}]},{},[1]);
//# sourceMappingURL=auth.min.js.map
